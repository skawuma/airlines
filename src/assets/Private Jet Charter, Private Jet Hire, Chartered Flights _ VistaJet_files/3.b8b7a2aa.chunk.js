(this["webpackJsonpvistajet-web-spa"]=this["webpackJsonpvistajet-web-spa"]||[]).push([[3],{572:function(e,t,i){"use strict";function n(e){return"function"===typeof e?e():e}function a(){var e={};return e.promise=new Promise((function(t,i){e.resolve=t,e.reject=i})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,s=void 0,l=void 0,c=[];return function(){var u=n(t),d=(new Date).getTime(),j=!r||d-r>u;r=d;for(var h=arguments.length,m=Array(h),b=0;b<h;b++)m[b]=arguments[b];if(j&&i.leading)return i.accumulate?Promise.resolve(e.call(this,[m])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(m)));if(s?clearTimeout(l):s=a(),c.push(m),l=setTimeout(o.bind(this),u),i.accumulate){var p=c.length-1;return s.promise.then((function(e){return e[p]}))}return s.promise};function o(){var t=s;clearTimeout(l),Promise.resolve(i.accumulate?e.call(this,c):e.apply(this,c[c.length-1])).then(t.resolve,t.reject),c=[],s=null}}},573:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Q}));var n=i(119),a=i(36),r=i(37),s=i.n(r),l=i(53),c=i(2),o=i(50),u=i(1),d=i(20),j=i(44),h=i(80),m=i(71),b=i(22),p=i(0);function f(e){var t,i=e.details,n=e.handleSubmit,a=e.handleUpdateDetails,r=e.isLegsValid,s=e.privacyPolicyUrl,l=e.stateCountries,c=Object(u.useState)(!1),d=Object(o.a)(c,2),h=d[0],f=d[1],O=Object(u.useState)(!1),v=Object(o.a)(O,2),x=v[0],g=v[1],k=Object(u.useState)(!1),N=Object(o.a)(k,2),y=N[0],w=N[1],_=Object(u.useState)(i.phoneNumber.length>0),C=Object(o.a)(_,2),V=C[0],F=C[1],M=Object(u.useState)({isValid:!1,fields:{title:{hasFocus:!1,message:"",isValid:!0,showValidation:!1},titleOther:{hasFocus:!1,message:"",isValid:!0,showValidation:!1},firstName:{hasFocus:!1,message:"",isValid:!1,showValidation:!1},lastName:{hasFocus:!1,message:"",isValid:!1,showValidation:!1},salutation:{hasFocus:!1,message:"",isValid:!1,showValidation:!1},email:{hasFocus:!1,message:"",isValid:!1,showValidation:!1},phoneNumber:{hasFocus:!1,message:"",isValid:!1,showValidation:!1},stateCode:{hasFocus:!1,message:"",isValid:!1,showValidation:!1}}}),S=Object(o.a)(M,2),R=S[0],E=S[1];Object(u.useEffect)((function(){var e,t,n=""!==(null!==(e=i.lastName)&&void 0!==e?e:"").trim()||""!==(null!==(t=i.salutation)&&void 0!==t?t:"").trim();n||g(!1),h||g(n)}),[h,i]);var P=function(e,t){E(Object(j.b)((function(i){null!==i.fields[t]&&void 0!==i.fields[t]&&(i.fields[t].value=e,i.fields[t].hasFocus&&(i.fields[t].showValidation=!1))}))),a(e,t)},A=function(e){E(Object(j.b)((function(t){null!==t.fields[e]&&void 0!==t.fields[e]&&(t.fields[e].hasFocus=!0)})))},T=function(e){E(Object(j.b)((function(t){null!==t.fields[e]&&void 0!==t.fields[e]&&(t.fields[e].hasFocus=!1,t.fields[e].showValidation=!0)})))};Object(u.useEffect)((function(){var e=Object(b.B)(i.title,i.titleOther),t=Object(b.r)(i.firstName),n=Object(b.s)(i.lastName),a=Object(b.o)(i.email),r=Object(b.v)(i.phoneNumber,V),s=Object(b.A)(l,i.stateCode,i.countryCode),c=e.isError||t.isError||n.isError||a.isError||r.isError||s.isError;E(Object(j.b)((function(i){i.isValid=!c,i.fields.titleOther.isValid=!e.isError,i.fields.titleOther.message=e.message,i.fields.firstName.isValid=!t.isError,i.fields.firstName.message=t.message,i.fields.lastName.isValid=!n.isError,i.fields.lastName.message=n.message,i.fields.email.isValid=!a.isError,i.fields.email.message=a.message,i.fields.phoneNumber.isValid=!r.isError,i.fields.phoneNumber.message=r.message,i.fields.stateCode.isValid=!s.isError,i.fields.stateCode.message=s.message})))}),[i,V]);return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"uk-grid vjr-flightRequest--detail-grid","data-uk-grid":!0,children:[Object(p.jsx)("div",{className:"uk-width-1-2@m",children:Object(p.jsxs)("div",{className:"uk-grid-small uk-child-width-1-1 uk-form-horizontal","data-uk-grid":!0,children:[Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"uk-grid-small","data-uk-grid":!0,children:[Object(p.jsxs)("div",{className:"uk-width-1-1@s uk-width-1-3@m",children:[Object(p.jsx)("label",{className:"uk-form-label ".concat(R.fields.titleOther.showValidation&&!R.fields.titleOther.isValid&&"uk-form-label-error"),children:"Title"}),Object(p.jsx)("div",{className:"uk-form-controls",children:Object(p.jsxs)("select",{className:"uk-select ".concat(R.fields.titleOther.showValidation&&!R.fields.titleOther.isValid?"uk-input-error":""),name:"title",value:i.title,onChange:function(e){return P(e.target.value,"title")},onFocus:function(e){return A("title")},onBlur:function(e){return T("title")},children:[Object(p.jsx)("option",{value:"Mr.",children:"Mr."}),Object(p.jsx)("option",{value:"Ms.",children:"Ms."}),Object(p.jsx)("option",{value:"Mrs.",children:"Mrs."}),Object(p.jsx)("option",{value:"Other",children:"Other"})]})})]}),Object(p.jsxs)("div",{className:"uk-width-expand ".concat("Other"===i.title?"":"uk-hidden"),children:[Object(p.jsx)("input",{className:"uk-input ".concat(R.fields.titleOther.showValidation&&!R.fields.titleOther.isValid?"uk-input-error":""),type:"text",name:"titleOther",value:null!==(t=i.titleOther)&&void 0!==t?t:"",onChange:function(e){return P(e.target.value,"titleOther")},onFocus:function(e){return A("titleOther")},onBlur:function(e){return T("titleOther")},placeholder:"Please specify"}),R.fields.titleOther.showValidation&&!R.fields.titleOther.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.titleOther.message})]})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{className:"uk-form-label ".concat(R.fields.firstName.showValidation&&!R.fields.firstName.isValid&&"uk-form-label-error"),children:"First name"}),Object(p.jsxs)("div",{className:"uk-form-controls",children:[Object(p.jsx)("input",{className:"uk-input ".concat(R.fields.firstName.showValidation&&!R.fields.firstName.isValid?"uk-input-error":""),type:"text",name:"firstName",value:i.firstName,onChange:function(e){return P(e.target.value,"firstName")},onFocus:function(e){return A("firstName")},onBlur:function(e){return T("firstName")}}),R.fields.firstName.showValidation&&!R.fields.firstName.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.firstName.message})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{className:"uk-form-label ".concat(R.fields.lastName.showValidation&&!R.fields.lastName.isValid&&"uk-form-label-error"),children:"Last name"}),Object(p.jsxs)("div",{className:"uk-form-controls",children:[Object(p.jsx)("input",{className:"uk-input ".concat(R.fields.lastName.showValidation&&!R.fields.lastName.isValid?"uk-input-error":""),type:"text",name:"lastName",value:i.lastName,onChange:function(e){return P(e.target.value,"lastName")},onFocus:function(){f(!0),A("lastName")},onBlur:function(){f(!1),T("lastName")}}),R.fields.lastName.showValidation&&!R.fields.lastName.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.lastName.message})]})]}),Object(p.jsx)("div",{className:x?"uk-grid-margin uk-first-column":"uk-hidden",children:Object(p.jsx)("div",{className:"uk-animation-fade",children:Object(p.jsxs)("div",{className:"vjr-flightRequest--box",children:["We will address you as ",Object(p.jsxs)("strong",{children:[" ",function(){var e;return""!==(null!==(e=i.salutation)&&void 0!==e?e:"").trim()?i.salutation:("Other"!==i.title?i.title:i.titleOther)+" "+i.lastName}()]}),".\xa0",Object(p.jsxs)("span",{className:y?"uk-hidden":"",children:["If you wish to be addressed differently please ",Object(p.jsx)("button",{className:"text-button",onClick:function(){y.value||w(!0)},children:"click here"}),"."]}),Object(p.jsxs)("div",{className:"uk-animation-fade ".concat(y?"":"uk-hidden"),children:[Object(p.jsx)("label",{className:"uk-form-label visuallyhidden",children:"Salutation"}),Object(p.jsx)("input",{className:"uk-input",type:"text",name:"salutation",value:i.salutation,onChange:function(e){return P(e.target.value,"salutation")},onFocus:function(e){return A("salutation")},onBlur:function(e){return T("salutation")},placeholder:"Please specify"})]})]})})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{className:"uk-form-label ".concat(R.fields.email.showValidation&&!R.fields.email.isValid&&"uk-form-label-error"),children:"Email"}),Object(p.jsxs)("div",{className:"uk-form-controls",children:[Object(p.jsx)("input",{className:"uk-input ".concat(R.fields.email.showValidation&&!R.fields.email.isValid?"uk-input-error":""),type:"text",name:"email",value:i.email,onChange:function(e){return P(e.target.value,"email")},onFocus:function(){return A("email")},onBlur:function(){return T("email")}}),R.fields.email.showValidation&&!R.fields.email.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.email.message})]})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"uk-grid-small","data-uk-grid":!0,children:[Object(p.jsxs)("div",{className:"uk-width-expand",children:[Object(p.jsx)("label",{className:"uk-form-label ".concat(R.fields.phoneNumber.showValidation&&!R.fields.phoneNumber.isValid&&"uk-form-label-error"),children:"Phone"}),Object(p.jsxs)("div",{className:"uk-form-controls",children:[Object(p.jsx)(m.a,{id:"phoneNumber",name:"phoneNumber",containerClassName:"intl-tel-input ".concat(R.fields.phoneNumber.showValidation&&!R.fields.phoneNumber.isValid?"phone-error":""),inputClassName:"uk-input ".concat(R.fields.phoneNumber.showValidation&&!R.fields.phoneNumber.isValid?"uk-input-error":""),value:i.phoneNumber,onChange:function(e,t,n){n.iso2?(P(t,"phoneNumber"),n.iso2.toUpperCase()!==i.countryCode&&P("","stateCode"),P(n.iso2.toUpperCase(),"countryCode"),F(e)):(P(t,"phoneNumber"),F(e))},onFlagSelected:function(e,t){t.iso2?(P(e,"phoneNumber"),t.iso2.toUpperCase()!==i.countryCode&&P("","stateCode"),P(t.iso2.toUpperCase(),"countryCode")):P(e,"phoneNumber")},onFocus:function(){return A("phoneNumber")},onBlur:function(){return T("phoneNumber")},hintText:"",autoPlaceholder:!1,tabIndex:5}),R.fields.phoneNumber.showValidation&&!R.fields.phoneNumber.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.phoneNumber.message})]})]}),l.some((function(e){return e.country===i.countryCode}))&&Object(p.jsxs)("div",{className:"uk-width-1-3@s vjr-flightRequest--state",children:[Object(p.jsx)("label",{className:"visuallyhidden ".concat(R.fields.stateCode.showValidation&&!R.fields.stateCode.isValid&&"uk-form-label-error"),children:"State / province"}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("select",{className:"uk-select ".concat(R.fields.stateCode.showValidation&&!R.fields.stateCode.isValid?"uk-input-error":""),name:"stateCode",value:i.stateCode,onChange:function(e){return P(e.target.value,"stateCode")},onFocus:function(e){return A("stateCode")},onBlur:function(e){return T("stateCode")},children:[Object(p.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Please select"}),Object.entries(l.find((function(e){return e.country===i.countryCode})).list).map((function(e){var t=Object(o.a)(e,2),i=t[0],n=t[1];return Object(p.jsx)("option",{value:n,children:i},n)}))]}),R.fields.stateCode.showValidation&&!R.fields.stateCode.isValid&&Object(p.jsx)("div",{className:"uk-form-error",children:R.fields.stateCode.message})]})]})]})})]})}),Object(p.jsxs)("div",{className:"uk-width-1-2@m uk-form-stacked uk-flex uk-flex-column",children:[Object(p.jsxs)("label",{className:"uk-form-label",children:["Any additional requests that we may assist you with?",Object(p.jsx)("br",{}),Object(p.jsx)("sub",{children:"For example, dietary requirements, special requests."})]}),Object(p.jsx)("div",{className:"uk-form-controls",children:Object(p.jsx)("textarea",{className:"uk-text-area",value:i.message,onChange:function(e){return P(e.target.value,"message")}})})]}),Object(p.jsxs)("div",{className:"uk-width-1-1",children:[Object(p.jsx)("div",{children:Object(p.jsxs)("label",{className:"uk-form-label",children:[Object(p.jsx)("input",{className:"uk-checkbox",type:"checkbox",value:i.marketingOptIn,onChange:function(e){return P(e.target.value,"marketingOptIn")}}),"I would like to receive marketing communications from VistaJet by email, post or text message."]})}),Object(p.jsx)("p",{children:Object(p.jsxs)("sub",{children:["By submitting this form you consent to the processing of your personal data in accordance with the VistaJet ",Object(p.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",title:"Privacy Policy",children:"Privacy Policy"}),"."]})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){R.isValid&&n()},disabled:!(r()&&R.isValid),children:"Request flight"})})]})]})})}var O=i(16),v=i(45),x=i.n(v),g=i(270),k=i(572),N=i.n(k);function y(e){var t=e.className,i=e.defaultOptions,n=e.innerRef,a=e.loadOptions,r=e.onChange,s=e.placeholder,l=e.source,c=e.value,o=e.onMenuOpen,d=e.onMenuClose,j=Object(u.useMemo)((function(){return N()(a,200)}),[a],{leading:!0}),h=function(e){return x()({"option_label--metropolean-area":"airport"!==e,"option_label--airport-nested":"airport-nested"===e,"option_label--with-airports":"metropolitan-area-with-airports"===e})};return Object(p.jsx)("div",{className:t,children:Object(p.jsx)(g.a,{ref:n,classNamePrefix:"react-select",defaultOptions:i,formatOptionLabel:function(e,t){var i,n=t.inputValue,a=t.context,r=3===n.length;return"value"===a?Object(p.jsxs)("div",{children:[["metropolitan-area-with-airports","metropolitan-area"].includes(e.type)&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"uk-margin-remove",children:e.name}),e.has_multiple_airports&&Object(p.jsx)("div",{className:"uk-text-meta",children:"Any Airport"})]}),e.icao&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"uk-margin-remove",children:e.ma_name||e.city}),Object(p.jsxs)("div",{className:"uk-text-meta",children:[e.name," (",e.icao,")"]})]})]}):Object(p.jsx)("div",{className:(i=e.type,x()("select_option_inner",{"select_option_inner--nested":"airport-nested"===i})),children:Object(p.jsxs)("div",{className:h(e.type),children:[["metropolitan-area-with-airports","metropolitan-area","airport"].includes(e.type)&&e.country_code&&Object(p.jsx)("div",{className:"flag-icon flag-icon-".concat(e.country_code.toLowerCase()),children:"\u200b"}),Object(p.jsxs)("div",{className:"uk-width-expand",children:[Object(p.jsx)("div",{className:"uk-margin-remove",children:e.name}),e.has_multiple_airports&&Object(p.jsx)("div",{className:"uk-text-meta",children:"Any airport"}),("airport"===e.type||"airport-nested"===e.type)&&Object(p.jsxs)("div",{className:"uk-text-meta",children:[e.icao,r&&e.iata?" (".concat(e.iata,")"):"",", ",e.city]})]})]})})},formatGroupLabel:function(e){return Object(p.jsx)("p",{className:"uk-text-meta uk-margin-small-bottom",children:e.label})},loadOptions:j,onChange:function(e){r(e,l)},onMenuOpen:o,onMenuClose:d,openMenuOnFocus:!0,placeholder:s,value:c})})}var w=i(106),_=i.n(w);function C(e){var t=e.onChange,i=e.placeholderText,n=void 0===i?null:i,a=e.value,r=void 0===a?1:a,s=e.minValue,l=void 0===s?1:s,c=e.maxValue,o=void 0===c?10:c,u=function(e){var i=r+e;i<l||i>o||t(i)};return Object(p.jsxs)("div",{className:"uk-grid-collapse uk-flex uk-flex-middle uk-grid vj-passenger-stepper","uk-grid":"",children:[Object(p.jsx)("button",{className:"text-button uk-width-auto uk-icon uk-first-column ".concat(r<=l?"vj-disable":""),"uk-icon":"minus-circle",onClick:function(){return u(-1)},children:Object(p.jsx)("span",{className:"visuallyhidden",children:"Subtract"})}),Object(p.jsx)("div",{className:"uk-width-auto uk-width-expand uk-text-center uk-margin-small-right uk-margin-small-left",children:Object(p.jsxs)("div",{className:"uk-grid-collapse uk-flex uk-flex-middle uk-flex-center uk-grid vj-passenger-stepper--container","uk-grid":"",children:[Object(p.jsx)("div",{className:"vj-passenger-stepper--value",children:r}),"\xa0",Object(p.jsx)("div",{className:"vj-passenger-stepper--text",children:n})]})}),Object(p.jsx)("button",{className:"text-button uk-width-auto uk-icon uk-first-column ".concat(r>=o?"vj-disable":""),"uk-icon":"plus-circle",onClick:function(){return u(1)},children:Object(p.jsx)("span",{className:"visuallyhidden",children:"Add"})})]})}var V=i(561),F=i(562),M=i(427),S=i(426),R=i(187),E=i(12),P=i.n(E);function A(e){var t,i,n,a,r=e.count,s=e.index,l=e.leg,d=e.allowMultiFlight,j=e.allowReturn,h=e.isLegsValid,m=e.isDetailsOpen,b=e.handleNext,f=e.handleUpdateLeg,v=e.handleRemoveLeg,x=e.nearestAirports,g=e.popularAirports,k=e.searchAirports,N=Object(u.useRef)(null),w=Object(u.useRef)(null),E=Object(u.useRef)(null),P=Object(u.useRef)(null),A=Object(u.useState)(!1),T=Object(o.a)(A,2),q=T[0],D=T[1],L=function(e,t){return null!==e&&null!==t&&e.metropolitan_area_id===t.metropolitan_area_id&&e.iata===t.iata},I=Object(u.forwardRef)((function(e,t){var i=e.value,n=e.placeholderText,a=e.placeholderClass,r=e.onClick,s=e.legLocation,l=e.legTime,c=new Date,o=i&&Object(V.default)(i,"dd MMM yyyy",new Date);return o instanceof Date&&Object(R.default)(o)?Object(p.jsxs)("button",{className:"text-button vjr-flightRequest--date-button",onClick:r,ref:t,children:[Object(p.jsx)("div",{className:"uk-margin-remove",children:o.getFullYear()===c.getFullYear()?Object(F.default)(o,"dd MMM"):Object(F.default)(o,"dd MMM yyyy")}),Object(p.jsxs)("div",{className:"uk-text-meta",children:[l&&"Set time"!==l?l:""," ",s?s.name:""]})]}):Object(p.jsx)("button",{className:"text-button vjr-flightRequest--date-button",onClick:r,ref:t,children:Object(p.jsx)("div",{className:a,children:n})})})),B=function(e,t){var i=Object(c.a)({},l);switch(t){case"from":i.from=e,N.current.focus();break;case"to":i.to=e,E.current.setFocus();break;case"departure":i.departure=e;break;case"departure_time":i.departure_time=e;break;case"return":i.return=e,null===e&&(i.return_time="",P.current.setOpen(!1));break;case"return_time":i.return_time=e;break;case"passengers":i.passengers=parseInt(e)}("departure"===t||"departure_time"===t)&&i.departure instanceof Date&&Object(R.default)(i.departure)&&i.departure_time.length>0&&"Set time"!==i.departure_time&&E.current.setOpen(!1),("return"===t||"return_time"===t)&&i.return instanceof Date&&Object(R.default)(i.return)&&i.return_time.length>0&&"Set time"!==i.return_time&&P.current.setOpen(!1),f(i)},U=function(e){return"0"===e[0]||"1"===e[0]||"2"===e[0]||"Set time"===e},J=function(e){return U(e)?"Set time":e};return Object(p.jsx)("div",{className:"uk-card uk-card-small uk-card-default ".concat(q?"--open":""),children:Object(p.jsx)("div",{className:"uk-card-body",children:Object(p.jsxs)("div",{className:"uk-grid-small","data-uk-grid":!0,children:[Object(p.jsx)("div",{className:"uk-width-expand",children:Object(p.jsxs)("div",{className:"vjr-flightRequest--row uk-grid-small uk-grid-divider uk-child-width-1-4@s","data-uk-grid":!0,children:[Object(p.jsxs)("div",{className:"uk-width-1-2@s uk-width-1-4@m",children:[Object(p.jsx)("label",{htmlFor:"from",className:"uk-form-label",hidden:!0,children:"From"}),Object(p.jsx)("div",{className:"vj-float-icon uk-icon","uk-icon":"takeoff"}),Object(p.jsx)(y,{id:"from",innerRef:w,defaultOptions:function(){var e=[];return x&&x.length&&(e=[{label:"Nearest locations",type:"nearest-location",options:x}]),g&&g.length&&(e=[].concat(Object(O.a)(e),[{label:"Popular",type:"popular",options:x&&x.length?g.filter((function(e){return!L(e,x[0])})):g}])),e}(),loadOptions:k,source:"from",placeholder:"From",onChange:B,onMenuOpen:function(){return D(!0)},onMenuClose:function(){return D(!1)},value:l.from})]}),Object(p.jsxs)("div",{className:"uk-width-1-2@s uk-width-1-4@m",children:[Object(p.jsx)("label",{htmlFor:"to",className:"uk-form-label visuallyhidden",children:"To"}),Object(p.jsx)("div",{className:"vj-float-icon uk-icon","uk-icon":"landing"}),Object(p.jsx)(y,{id:"to",innerRef:N,defaultOptions:function(){var e=[];return g&&g.length&&(e=[].concat(Object(O.a)(e),[{label:"Popular",type:"popular",options:l.from?g.filter((function(e){return!L(e,l.from)})):g}])),e}(),loadOptions:k,source:"to",placeholder:"To",onChange:B,value:l.to})]}),Object(p.jsx)("div",{className:"uk-width-1-2@s uk-width-expand@m vjr-flightRequest--date-container",style:{position:"relative"},children:Object(p.jsxs)("div",{className:j?"uk-grid-small uk-child-width-1-2@s icon-margin vjr-flightRequest--date-grid":"uk-grid-small uk-child-width-1-1@s icon-margin","data-uk-grid":!0,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"vj-float-icon uk-icon","uk-icon":"calendar"}),Object(p.jsx)("label",{htmlFor:"departure",className:"uk-form-label visuallyhidden",children:"Departure date"}),Object(p.jsx)(_.a,{id:"departure",ref:E,className:"uk-input",customInput:Object(p.jsx)(I,{placeholderText:"Date",placeholderClass:"",legLocation:l.from,legTime:l.departure_time}),dateFormat:"dd MMM yyyy",dateFormatCalendar:"MMM yyyy",minDate:Object(M.default)(Object(S.default)(new Date,0),0),onChange:function(e){return B(e,"departure")},openToDate:null!==(t=l.departure)&&void 0!==t?t:Object(M.default)(Object(S.default)(new Date,0),12),placeholderText:"Date",selected:l.departure,selectsStart:!0,shouldCloseOnSelect:!1,showPopperArrow:!1,startDate:l.departure,popperPlacement:"bottom",popperModifiers:[{name:"flip",options:{fallbackPlacements:["bottom"],flipVariations:!1,allowedAutoPlacements:["bottom"]}},{name:"offset",options:{reference:document.getElementsByClassName("vjr-flightRequest--date-container"),offset:[0,0]}},{name:"preventOverflow",options:{mainAxis:!0,altAxis:!1,altBoundary:!0,tether:!1}}],children:Object(p.jsx)("div",{className:"react-datepicker__bottom-bar",children:Object(p.jsxs)("div",{className:"uk-grid-small uk-child-width-1-1 uk-form-horizontal","data-uk-grid":!0,children:[Object(p.jsx)("div",{children:Object(p.jsxs)("select",{className:"uk-select",value:J(l.departure_time),onChange:function(e){return B(e.target.value,"departure_time")},children:[Object(p.jsx)("option",{value:"Any time",children:"Departing any time"}),Object(p.jsx)("option",{value:"Early morning",children:"Early morning"}),Object(p.jsx)("option",{value:"Morning",children:"Morning"}),Object(p.jsx)("option",{value:"Afternoon",children:"Afternoon"}),Object(p.jsx)("option",{value:"Evening",children:"Evening"}),Object(p.jsx)("option",{value:"Late evening",children:"Late evening"}),Object(p.jsx)("option",{value:"Set time",children:"Set time"})]})}),U(l.departure_time)&&Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{className:"uk-form-label",children:"Time"}),Object(p.jsx)("div",{className:"uk-form-controls",children:Object(p.jsxs)("select",{className:"uk-select",value:l.departure_time,onChange:function(e){return B(e.target.value,"departure_time")},children:[Object(p.jsx)("option",{value:"",children:"Please select"}),Object(p.jsx)("option",{value:"00:00",children:"00:00"}),Object(p.jsx)("option",{value:"00:30",children:"00:30"}),Object(p.jsx)("option",{value:"01:00",children:"01:00"}),Object(p.jsx)("option",{value:"01:30",children:"01:30"}),Object(p.jsx)("option",{value:"02:00",children:"02:00"}),Object(p.jsx)("option",{value:"02:30",children:"02:30"}),Object(p.jsx)("option",{value:"03:00",children:"03:00"}),Object(p.jsx)("option",{value:"03:30",children:"03:30"}),Object(p.jsx)("option",{value:"04:00",children:"04:00"}),Object(p.jsx)("option",{value:"04:30",children:"04:30"}),Object(p.jsx)("option",{value:"05:00",children:"05:00"}),Object(p.jsx)("option",{value:"05:30",children:"05:30"}),Object(p.jsx)("option",{value:"06:00",children:"06:00"}),Object(p.jsx)("option",{value:"06:30",children:"06:30"}),Object(p.jsx)("option",{value:"07:00",children:"07:00"}),Object(p.jsx)("option",{value:"07:30",children:"07:30"}),Object(p.jsx)("option",{value:"08:00",children:"08:00"}),Object(p.jsx)("option",{value:"08:30",children:"08:30"}),Object(p.jsx)("option",{value:"09:00",children:"09:00"}),Object(p.jsx)("option",{value:"09:30",children:"09:30"}),Object(p.jsx)("option",{value:"10:00",children:"10:00"}),Object(p.jsx)("option",{value:"10:30",children:"10:30"}),Object(p.jsx)("option",{value:"11:00",children:"11:00"}),Object(p.jsx)("option",{value:"11:30",children:"11:30"}),Object(p.jsx)("option",{value:"12:00",children:"12:00"}),Object(p.jsx)("option",{value:"12:30",children:"12:30"}),Object(p.jsx)("option",{value:"13:00",children:"13:00"}),Object(p.jsx)("option",{value:"13:30",children:"13:30"}),Object(p.jsx)("option",{value:"14:00",children:"14:00"}),Object(p.jsx)("option",{value:"14:30",children:"14:30"}),Object(p.jsx)("option",{value:"15:00",children:"15:00"}),Object(p.jsx)("option",{value:"15:30",children:"15:30"}),Object(p.jsx)("option",{value:"16:00",children:"16:00"}),Object(p.jsx)("option",{value:"16:30",children:"16:30"}),Object(p.jsx)("option",{value:"17:00",children:"17:00"}),Object(p.jsx)("option",{value:"17:30",children:"17:30"}),Object(p.jsx)("option",{value:"18:00",children:"18:00"}),Object(p.jsx)("option",{value:"18:30",children:"18:30"}),Object(p.jsx)("option",{value:"19:00",children:"19:00"}),Object(p.jsx)("option",{value:"19:30",children:"19:30"}),Object(p.jsx)("option",{value:"20:00",children:"20:00"}),Object(p.jsx)("option",{value:"20:30",children:"20:30"}),Object(p.jsx)("option",{value:"21:00",children:"21:00"}),Object(p.jsx)("option",{value:"21:30",children:"21:30"}),Object(p.jsx)("option",{value:"22:00",children:"22:00"}),Object(p.jsx)("option",{value:"22:30",children:"22:30"}),Object(p.jsx)("option",{value:"23:00",children:"23:00"}),Object(p.jsx)("option",{value:"23:30",children:"23:30"})]})})]})]})})})]}),j&&Object(p.jsxs)("div",{className:"vjr-flightRequest--return",children:[Object(p.jsx)("div",{className:"vj-float-icon uk-icon","uk-icon":"calendar-return"}),Object(p.jsx)("label",{htmlFor:"return",className:"uk-form-label visuallyhidden",children:"Return date"}),Object(p.jsxs)(_.a,{id:"return",ref:P,calendarClassName:"react-datepicker-delete",className:"uk-input",customInput:Object(p.jsx)(I,{placeholderText:"Add return",placeholderClass:"return",legLocation:l.to,legTime:l.return_time}),dateFormat:"dd MMM yyyy",dateFormatCalendar:"MMM yyyy",endDate:l.return,isClearable:!0,minDate:null!==(i=l.departure)&&void 0!==i?i:Object(M.default)(Object(S.default)(new Date,0),0),onChange:function(e){return B(e,"return")},openToDate:null!==(n=null!==(a=l.return)&&void 0!==a?a:l.departure)&&void 0!==n?n:Object(M.default)(Object(S.default)(new Date,0),12),placeholderText:"Add return",selected:l.return,selectsEnd:!0,shouldCloseOnSelect:!1,showPopperArrow:!1,startDate:l.departure,popperPlacement:"bottom",popperModifiers:[{name:"flip",options:{fallbackPlacements:["bottom"],flipVariations:!1,allowedAutoPlacements:["bottom"]}},{name:"offset",options:{offset:[0,0]}},{name:"preventOverflow",options:{mainAxis:!1,altAxis:!1,altBoundary:!1,tether:!1}}],children:[Object(p.jsx)("div",{className:"react-datepicker__delete-bar",children:Object(p.jsxs)("button",{className:"text-button",onClick:function(){return B(null,"return")},children:["Remove ",Object(p.jsx)("div",{className:"uk-icon","uk-icon":"trash"})]})}),Object(p.jsx)("div",{className:"react-datepicker__bottom-bar",children:Object(p.jsxs)("div",{className:"uk-grid-small uk-child-width-1-1 uk-form-horizontal","data-uk-grid":!0,children:[Object(p.jsx)("div",{children:Object(p.jsxs)("select",{className:"uk-select",value:J(l.return_time),onChange:function(e){return B(e.target.value,"return_time")},children:[Object(p.jsx)("option",{value:"Any time",children:"Departing any time"}),Object(p.jsx)("option",{value:"Early morning",children:"Early morning"}),Object(p.jsx)("option",{value:"Morning",children:"Morning"}),Object(p.jsx)("option",{value:"Afternoon",children:"Afternoon"}),Object(p.jsx)("option",{value:"Evening",children:"Evening"}),Object(p.jsx)("option",{value:"Late evening",children:"Late evening"}),Object(p.jsx)("option",{value:"Set time",children:"Set time"})]})}),U(l.return_time)&&Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{className:"uk-form-label",children:"Time"}),Object(p.jsx)("div",{className:"uk-form-controls",children:Object(p.jsxs)("select",{className:"uk-select",value:l.return_time,onChange:function(e){return B(e.target.value,"return_time")},children:[Object(p.jsx)("option",{value:"",children:"Please select"}),Object(p.jsx)("option",{value:"00:00",children:"00:00"}),Object(p.jsx)("option",{value:"00:30",children:"00:30"}),Object(p.jsx)("option",{value:"01:00",children:"01:00"}),Object(p.jsx)("option",{value:"01:30",children:"01:30"}),Object(p.jsx)("option",{value:"02:00",children:"02:00"}),Object(p.jsx)("option",{value:"02:30",children:"02:30"}),Object(p.jsx)("option",{value:"03:00",children:"03:00"}),Object(p.jsx)("option",{value:"03:30",children:"03:30"}),Object(p.jsx)("option",{value:"04:00",children:"04:00"}),Object(p.jsx)("option",{value:"04:30",children:"04:30"}),Object(p.jsx)("option",{value:"05:00",children:"05:00"}),Object(p.jsx)("option",{value:"05:30",children:"05:30"}),Object(p.jsx)("option",{value:"06:00",children:"06:00"}),Object(p.jsx)("option",{value:"06:30",children:"06:30"}),Object(p.jsx)("option",{value:"07:00",children:"07:00"}),Object(p.jsx)("option",{value:"07:30",children:"07:30"}),Object(p.jsx)("option",{value:"08:00",children:"08:00"}),Object(p.jsx)("option",{value:"08:30",children:"08:30"}),Object(p.jsx)("option",{value:"09:00",children:"09:00"}),Object(p.jsx)("option",{value:"09:30",children:"09:30"}),Object(p.jsx)("option",{value:"10:00",children:"10:00"}),Object(p.jsx)("option",{value:"10:30",children:"10:30"}),Object(p.jsx)("option",{value:"11:00",children:"11:00"}),Object(p.jsx)("option",{value:"11:30",children:"11:30"}),Object(p.jsx)("option",{value:"12:00",children:"12:00"}),Object(p.jsx)("option",{value:"12:30",children:"12:30"}),Object(p.jsx)("option",{value:"13:00",children:"13:00"}),Object(p.jsx)("option",{value:"13:30",children:"13:30"}),Object(p.jsx)("option",{value:"14:00",children:"14:00"}),Object(p.jsx)("option",{value:"14:30",children:"14:30"}),Object(p.jsx)("option",{value:"15:00",children:"15:00"}),Object(p.jsx)("option",{value:"15:30",children:"15:30"}),Object(p.jsx)("option",{value:"16:00",children:"16:00"}),Object(p.jsx)("option",{value:"16:30",children:"16:30"}),Object(p.jsx)("option",{value:"17:00",children:"17:00"}),Object(p.jsx)("option",{value:"17:30",children:"17:30"}),Object(p.jsx)("option",{value:"18:00",children:"18:00"}),Object(p.jsx)("option",{value:"18:30",children:"18:30"}),Object(p.jsx)("option",{value:"19:00",children:"19:00"}),Object(p.jsx)("option",{value:"19:30",children:"19:30"}),Object(p.jsx)("option",{value:"20:00",children:"20:00"}),Object(p.jsx)("option",{value:"20:30",children:"20:30"}),Object(p.jsx)("option",{value:"21:00",children:"21:00"}),Object(p.jsx)("option",{value:"21:30",children:"21:30"}),Object(p.jsx)("option",{value:"22:00",children:"22:00"}),Object(p.jsx)("option",{value:"22:30",children:"22:30"}),Object(p.jsx)("option",{value:"23:00",children:"23:00"}),Object(p.jsx)("option",{value:"23:30",children:"23:30"})]})})]})]})})]})]})]})}),Object(p.jsxs)("div",{className:"uk-width-1-2@s uk-width-auto@m",children:[Object(p.jsx)("label",{className:"uk-form-label visuallyhidden",children:"Passengers"}),Object(p.jsx)(C,{min:!0,maxValue:14,onChange:function(e){return B(e,"passengers")},placeholderText:"Passenger".concat(1!==l.passengers?"s":""),value:l.passengers})]})]})}),d&&r>1&&Object(p.jsxs)("button",{className:"uk-width-1-1@s uk-width-auto@m vj-end-button",onClick:function(){return v(l)},children:[Object(p.jsx)("span",{className:"uk-icon","uk-icon":"close"}),Object(p.jsx)("span",{className:"uk-hidden@m",children:"Remove"})]}),!d&&s+1===r&&Object(p.jsxs)("button",{className:"uk-width-1-1@s uk-width-auto@m vj-end-button",onClick:function(){return b(!0)},disabled:m||!h(),children:[Object(p.jsx)("span",{className:"uk-visible@m uk-icon","uk-icon":m?"arrow-down":"arrow-right"}),Object(p.jsx)("span",{className:"uk-hidden@m",children:"Next"})]})]})})})}var T=i(269),q="/api/salesforce/lead/",D={source:"",fields:{}},L=function(){var e=window.location,t=new URLSearchParams(e.search);return{utm_source__c:t.get("utm_source")||"",utm_medium__c:t.get("utm_medium")||"",utm_campaign__c:t.get("utm_campaign")||"",utm_term__c:t.get("utm_term")||"",Conversion_Url__c:"".concat(e.origin).concat(e.pathname),Origin__c:"Web"}};function I(){return(I=Object(l.a)(s.a.mark((function e(t){var i,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in i=L())t.fields[n]=i[n];return e.next=4,P.a.post(q,t,{headers:{token:"NDlFNS00QzZFLThBQMEQUZCRjk2wRUJBQ0YtTgtN0ZCMzcwN"}});case 4:return a=e.sent,e.abrupt("return",200===a.status);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=i(59),U=i(202),J=i(201),z=i(571);function Q(e){var t,i,r,m,b,O=e.allowmultiflight,v=void 0===O?"false":O,x=e.multiflighturl,g=void 0===x?"":x,k=e.privacypolicyurl,N=void 0===k?"":k,y=e.allowreturn,w=void 0===y?"false":y,_=e.customjson,C=void 0===_?null:_,V=Object(d.c)(),M=Object(u.useRef)(null),S=Object(u.useRef)(null),R=Object(d.d)((function(e){return e.user})),E=Object(d.d)(T.e),P=Object(d.d)(T.f),q="true"===v.toLowerCase().trim(),L="true"===w.toLowerCase().trim(),Q=Object(u.useState)(q),Y=Object(o.a)(Q,2),W=Y[0],Z=Y[1];Object(u.useEffect)((function(){null===E&&V(Object(T.b)())}),[E,V]),Object(u.useEffect)((function(){null===P&&V(Object(T.c)())}),[P,V]);var H={from:null,to:null,departure:null,departure_time:"Any time",return:null,return_time:"Any time",passengers:1},G=R&&R.isLoggedIn&&R.user?{title:"Mr.",titleOther:"",firstName:null!==(t=R.user.firstName)&&void 0!==t?t:"",lastName:null!==(i=R.user.lastName)&&void 0!==i?i:"",salutation:null!==(r=R.user.salutation)&&void 0!==r?r:"",phoneNumber:null!==(m=R.user.phoneNumber)&&void 0!==m?m:"",countryCode:"",stateCode:"",email:null!==(b=R.user.username)&&void 0!==b?b:"",message:"",marketingOptIn:!1}:{title:"Mr.",titleOther:"",firstName:"",lastName:"",salutation:"",phoneNumber:"",countryCode:"",stateCode:"",email:"",message:"",marketingOptIn:!1},X=[{country:"US",list:h.i},{country:"BR",list:h.a},{country:"CA",list:h.b},{country:"CN",list:h.c},{country:"IN",list:h.e},{country:"IE",list:h.f},{country:"IT",list:h.g},{country:"MX",list:h.h}],K=Object(u.useState)([Object(c.a)({id:0},H)]),$=Object(o.a)(K,2),ee=$[0],te=$[1],ie=Object(u.useState)(Object(c.a)({},G)),ne=Object(o.a)(ie,2),ae=ne[0],re=ne[1],se=Object(u.useState)(q),le=Object(o.a)(se,2),ce=le[0],oe=(le[1],Object(u.useState)(!1)),ue=Object(o.a)(oe,2),de=ue[0],je=ue[1],he=Object(u.useState)(!1),me=Object(o.a)(he,2),be=me[0],pe=me[1],fe=function(e){return new Promise((function(t){return setTimeout(t,e)}))};Object(u.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(200);case 2:M.current.scrollIntoView({behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}de&&function(){e.apply(this,arguments)}()}),[de]),Object(u.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(200);case 2:S.current.scrollIntoView({behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}be&&function(){e.apply(this,arguments)}()}),[be]);var Oe=function(e){te(Object(j.b)((function(t){var i=t.findIndex((function(t){return t.id===e.id}));t[i]=e})))},ve=function(){var e=!0;return ee.forEach((function(t){return e=e&&function(e){return!0===(e.from&&e.to&&e.departure instanceof Date&&e.departure_time.length>0&&"Set time"!==e.departure_time&&(!e.return||e.return instanceof Date)&&(!e.return||e.departure_time.length>0&&"Set time"!==e.departure_time)&&e.passengers&&e.passengers>0)}(t)})),!0===e},xe=function(e){return"0"===e[0]||"1"===e[0]||"2"===e[0]},ge=function(e,t){if(xe(t)){var i=t.split(":");return console.log(i[0]),console.log(i[1]),Object(F.default)(Object(U.default)(Object(J.default)(e,i[1]),i[0]),"yyyy-MM-dd'T'HH:mm:ss")}return Object(z.a)(e,{representation:"date"})},ke=function(e){return xe(e)?"Exact":e},Ne=function(){var e,t=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from";return t={},Object(a.a)(t,"".concat(i,"_airport"),e.icao||""),Object(a.a)(t,"".concat(i,"_airport_str"),Object(B.d)(e)),t},i=[],r=Object(n.a)(ee);try{for(r.s();!(e=r.n()).done;){var s=e.value;i.push(Object(c.a)(Object(c.a)(Object(c.a)({},t(s.from,"from")),t(s.to,"to")),{},{date_time:ge(s.departure,s.departure_time),time_slot:ke(s.departure_time),no_passengers:s.passengers})),s.return&&i.push(Object(c.a)(Object(c.a)(Object(c.a)({},t(s.to,"from")),t(s.from,"to")),{},{date_time:ge(s.return,s.return_time),time_slot:ke(s.return_time),no_passengers:s.passengers}))}}catch(l){r.e(l)}finally{r.f()}return JSON.stringify({flights:i})},ye={title:"Salutation",titleOther:"Supplied_Salutation_Other__c",salutation:"Web_Salutation_Text__c",firstName:"FirstName",lastName:"LastName",email:"Email",phoneNumber:"Phone",countryCode:"CountryCode",stateCode:"StateCode",message:"Description",marketingOptIn:"Marketing_Opt_In__c"},we=function(e){var t;return null!==(t=ye[e])&&void 0!==t?t:e},_e=function(){te([Object(c.a)({id:0},H)]),re(Object(j.b)((function(e){e.message=""}))),je(!1)};return de?Object(p.jsxs)("div",{ref:M,className:"vjr-flightRequest--confirmation",children:[Object(p.jsx)("h3",{children:"Thank you for your flight request"}),Object(p.jsx)("p",{children:"Your flight request has been received. A member of the VistaJet team will be in contact with you soon."}),Object(p.jsx)("button",{onClick:function(){return _e()},children:"Close"}),Object(p.jsx)("button",{className:"outline",onClick:function(){return _e()},children:"Plan another flight"})]}):Object(p.jsxs)("div",{children:[be&&Object(p.jsxs)("div",{ref:S,className:"uk-alert-error","data-uk-alert":!0,children:[Object(p.jsx)("a",{className:"uk-alert-close","data-uk-close":!0}),Object(p.jsx)("p",{children:"There was an error submitting your request. Please try again or contact us."})]}),Object(p.jsx)("div",{className:"vjr-flightRequest--rows",children:(ee||[]).map((function(e,t){return Object(p.jsx)(A,{count:ee.length,index:t,leg:e,allowMultiFlight:q,allowReturn:L,isLegsValid:function(){return ve()},isDetailsOpen:W,handleNext:function(){return ve()&&Z(!0)},handleUpdateLeg:Oe,handleRemoveLeg:function(){return function(e){te(Object(j.b)((function(t){var i=t.findIndex((function(t){return t.id===e.id}));-1!==i&&(t.splice(i,1),t.forEach((function(e,t){return e.id=t})))})))}(e)},nearestAirports:E,popularAirports:P,searchAirports:T.d},t)}))}),ce&&Object(p.jsx)("button",{className:"outline",onClick:function(){te(Object(j.b)((function(e){e.push(Object(c.a)({id:e.length},H))})))},children:"Add flight"}),!ce&&Object(p.jsxs)("p",{children:["Need more flights? Switch to ",Object(p.jsx)("a",{href:g,children:"multi-city"})]}),W&&Object(p.jsx)("div",{className:"vjr-flightRequest--details",children:Object(p.jsx)(f,{details:ae,handleSubmit:function(){pe(!1),console.log(Ne());var e=Object(c.a)({},D);for(var t in e.source="React-FlightRequest",e.fields.Type__c="Flight Request",e.fields.Flight_Request_JSON__c=Ne(),function(){var e=Object(c.a)({},ae);return X.some((function(t){return t.country===e.countryCode}))||(e.stateCode=""),e}())e.fields[we(t)]=ae[t];if(null!==C&&""!==C.trim())try{Object.assign(e.fields,JSON.parse(C))}catch(i){console.warn("Error parsing JSON: "+C)}if(function(e){return I.apply(this,arguments)}(e)){je(!0);try{window.dataLayer.push({event:"enquirySubmitted",enquiryType:"Flight Request Submitted"})}catch(n){console.warn("dataLayer push failed for 'Flight Request Submitted': "+n)}}else{pe(!0);try{window.dataLayer.push({event:"enquiryFailed",enquiryType:"Flight Request Failed"})}catch(n){console.warn("dataLayer push failed for 'Flight Request Failed': "+n)}}},handleUpdateDetails:function(e,t){re(Object(j.b)((function(i){i[t]=e})))},isLegsValid:ve,privacyPolicyUrl:N,stateCountries:X})})]})}}}]);
//# sourceMappingURL=3.b8b7a2aa.chunk.js.map